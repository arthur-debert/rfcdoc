{
  "name": "TxtDoc",
  "scopeName": "text.txtdoc",
  "patterns": [
    {
      "include": "#title"
    },
    {
      "include": "#section"
    },
    {
      "include": "#numbered_section"
    },
    {
      "include": "#alternative_section"
    },
    {
      "include": "#list"
    },
    {
      "include": "#code_block"
    },
    {
      "include": "#quote"
    },
    {
      "include": "#bold"
    },
    {
      "include": "#footnote_reference"
    },
    {
      "include": "#reference"
    },
    {
      "include": "#emphasis"
    }
  ],
  "repository": {
    "title": {
      "match": "^([^\\n]+)\\n-+$",
      "name": "meta.title.txtdoc",
      "captures": {
        "1": {
          "name": "markup.heading.txtdoc"
        }
      }
    },
    "section": {
      "match": "^([A-Z][^\\n]*)$",
      "name": "meta.section.txtdoc",
      "captures": {
        "1": {
          "name": "entity.name.section.txtdoc"
        }
      }
    },
    "numbered_section": {
      "match": "^([0-9]+(?:\\.[0-9]+)*)\\.\\s+([^\\n]*)$",
      "name": "meta.section.numbered.txtdoc",
      "captures": {
        "1": {
          "name": "entity.name.section.number.txtdoc"
        },
        "2": {
          "name": "entity.name.section.title.txtdoc"
        }
      }
    },
    "alternative_section": {
      "match": "^:\\s+([^\\n]*)$",
      "name": "meta.section.alternative.txtdoc",
      "captures": {
        "1": {
          "name": "entity.name.section.txtdoc"
        }
      }
    },
    "list": {
      "patterns": [
        {
          "name": "markup.list.unnumbered.txtdoc",
          "match": "^\\s*-\\s+(.+)$",
          "captures": {
            "1": {
              "name": "markup.list.item.txtdoc"
            }
          }
        },
        {
          "name": "markup.list.numbered.txtdoc",
          "match": "^\\s*(\\d+)\\. (.+)$",
          "captures": {
            "1": {
              "name": "markup.list.number.txtdoc"
            },
            "2": {
              "name": "markup.list.item.txtdoc"
            }
          }
        },
        {
          "name": "markup.list.lettered.txtdoc",
          "match": "^\\s*([a-z])\\. (.+)$",
          "captures": {
            "1": {
              "name": "markup.list.letter.txtdoc"
            },
            "2": {
              "name": "markup.list.item.txtdoc"
            }
          }
        },
        {
          "name": "markup.list.roman.txtdoc",
          "match": "^\\s*(i|ii|iii|iv|v|vi|vii|viii|ix|x)\\. (.+)$",
          "captures": {
            "1": {
              "name": "markup.list.roman.txtdoc"
            },
            "2": {
              "name": "markup.list.item.txtdoc"
            }
          }
        }
      ]
    },
    "code_block": {
      "begin": "^\\s{4}",
      "end": "^(?!\\s{4})",
      "name": "markup.raw.block.txtdoc",
      "contentName": "meta.embedded.block.txtdoc"
    },
    "footnote_reference": {
      "match": "\\[(\\d+)\\]",
      "name": "meta.footnote.reference.txtdoc",
      "captures": {
        "1": {
          "name": "constant.numeric.footnote.txtdoc"
        }
      }
    },
    "footnote_declaration": {
      "match": "^\\[(\\d+)\\]\\s+(.+)$",
      "name": "meta.footnote.declaration.txtdoc",
      "captures": {
        "1": {
          "name": "constant.numeric.footnote.txtdoc"
        },
        "2": {
          "name": "markup.quote.footnote.txtdoc"
        }
      }
    },
    "reference": {
      "match": "see:\\s+([^#\\s]+)(?:#([\\w-]+))?",
      "name": "meta.reference.txtdoc",
      "captures": {
        "1": {
          "name": "string.unquoted.reference.path.txtdoc"
        },
        "2": {
          "name": "string.unquoted.reference.anchor.txtdoc"
        }
      }
    },
    "metadata": {
      "match": "^([A-Za-z0-9 ]+)\\s{2,}(.+)$",
      "name": "meta.metadata.txtdoc",
      "captures": {
        "1": {
          "name": "variable.parameter.metadata.key.txtdoc"
        },
        "2": {
          "name": "string.unquoted.metadata.value.txtdoc"
        }
      }
    },
    "quote": {
      "patterns": [
        {
          "name": "meta.quote.txtdoc markup.quote.txtdoc",
          "match": "^>\\s+(.+)$",
          "captures": {
            "1": {
              "name": "markup.quote.content.txtdoc"
            }
          }
        },
        {
          "name": "meta.quote.nested.txtdoc markup.quote.nested.txtdoc",
          "match": "^>>\\s+(.+)$",
          "captures": {
            "1": {
              "name": "markup.quote.nested.content.txtdoc"
            }
          }
        }
      ]
    },
    "bold": {
      "match": "\\*(.*?)\\*",
      "captures": {
        "1": {
          "name": "markup.bold.txtdoc"
        }
      }
    },
    "emphasis": {
      "match": "_(.*?)_",
      "captures": {
        "1": {
          "name": "markup.italic.txtdoc"
        }
      }
    }
  }
}